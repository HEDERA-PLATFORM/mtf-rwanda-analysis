
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Evaluation of Multi-Tier Framework for measuring access to electricity - Rwanda &#8212; Rwanda Electricity</title>
    
  <link rel="stylesheet" href="_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Content in Jupyter Book" href="content.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="index.html">
  
  <img src="_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Rwanda Electricity</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1 current active">
  <a class="reference internal" href="#">
   Evaluation of Multi-Tier Framework for measuring access to electricity - Rwanda
  </a>
 </li>
</ul>
<ul class="nav sidenav_l1">
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="content.html">
   Content in Jupyter Book
  </a>
  <ul class="simple collapse-ul">
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/Rwanda_MTF_Electricity.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/executablebooks/jupyter-book"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FRwanda_MTF_Electricity.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/docs/Rwanda_MTF_Electricity.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Evaluation of Multi-Tier Framework for measuring access to electricity - Rwanda
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#importing-the-useful-libraries">
     Importing the useful libraries
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#importing-the-dataset">
     Importing the dataset
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#analysing-different-attributes">
     Analysing different Attributes
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#attribute-capacity">
   Attribute: Capacity
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#renaming-the-columns">
     Renaming the columns
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#adding-total-capacity-to-the-dataset">
     Adding “Total capacity to the dataset”
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#formulating-the-column-total-capacity">
     Formulating the column “Total capacity”
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#adding-column-tier-to-the-dataset">
     Adding column “TIER” to the dataset
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#printing-the-tier-counts">
     Printing the TIER counts
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#visualizing-the-tier-levels-with-missing-data">
       Visualizing the TIER levels with “Missing_data”
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#visualizing-the-tier-levels-without-missing-data">
       Visualizing the TIER levels without “Missing_data”
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#attribute-availabilty">
   Attribute: Availabilty
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#availability-day-and-night">
     Availability: Day and night
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id1">
       Renaming the columns
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#calculation">
       Calculation
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#changing-the-string-variables-into-float-int">
       Changing the string variables into float/int
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#calculating-the-total-availability">
       Calculating the total availability
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#replacing-nan-and-don-t-know-values-with-missing-data">
       Replacing NaN and “Don’t know” values with “Missing_data”
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id2">
       Adding column “TIER” to the dataset
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id3">
         Visualizing the TIER levels with “Missing_data”
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id4">
         Visualizing the TIER levels without “Missing_data”
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#attribute-availabilty-evening">
     Attribute: Availabilty (Evening)
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id5">
       Renaming the columns
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id6">
       Calculation
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id7">
       Changing the string variables into float/int
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id8">
       Calculating the total availability
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#replacing-nan-values-with-missing-data">
       Replacing NaN values with “Missing_data”
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id9">
       Adding column “TIER” to the dataset
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id10">
         Visualizing the TIER levels with “Missing_data”
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id11">
         Visualizing the TIER levels without “Missing_data”
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#attribute-reliability">
   Attribute: Reliability
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id12">
     Renaming the columns
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id13">
     Calculation
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id14">
     Replacing NaN values with “Missing_data”
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id15">
     Adding column “TIER” to the dataset
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id16">
       Visualizing the TIER levels with “Missing_data”
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id17">
       Visualizing the TIER levels without “Missing_data”
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#attribute-quality">
   Attribute: Quality
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id18">
     Renaming the columns
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id19">
     Changing the string variables into float/int
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id20">
     Replacing NaN values with “Missing_data”
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id21">
       Visualizing the TIER levels with “Missing_data”
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id22">
       Visualizing the TIER levels without “Missing_data”
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#attribute-affordability">
   Attribute: Affordability
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#attribute-formality">
   Attribute: Formality
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id23">
     Renaming the columns
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id24">
     Replacing NaN values with “Missing_data”
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#focusing-on-national-grid">
     Focusing on National grid
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id25">
       Visualizing the TIER levels with “Missing_data”
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id26">
       Visualizing the TIER levels without “Missing_data”
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#attribute-health-and-safety">
   Attribute: Health and Safety
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id27">
     Focusing on National grid
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id28">
       Visualizing the TIER levels with “Missing_data”
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id29">
       Visualizing the TIER levels without “Missing_data”
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#visualising-all-the-grouped-tiers-together">
   Visualising all the grouped TIERs together
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#visualising-only-tiers-0-5">
   Visualising only TIERs 0-5
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#aggregated-analysis-index-of-access-to-household-electricity">
   Aggregated Analysis: Index of Access to Household Electricity
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="evaluation-of-multi-tier-framework-for-measuring-access-to-electricity-rwanda">
<h1>Evaluation of Multi-Tier Framework for measuring access to electricity - Rwanda<a class="headerlink" href="#evaluation-of-multi-tier-framework-for-measuring-access-to-electricity-rwanda" title="Permalink to this headline">¶</a></h1>
<p>The Multi-Tier Framework (MTF) helps to measure the energy access taking into consideration seven attributes that can be categorized on Tiers from 0 to 5. Meaning that tier 0 is no access at all and tier 5 full access. The variables that measure the tiers change depending on the attributes.</p>
<div class="section" id="importing-the-useful-libraries">
<h2>Importing the useful libraries<a class="headerlink" href="#importing-the-useful-libraries" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">import</span> <span class="n">pie</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">show</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s1">&#39;darkgrid&#39;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
</pre></div>
</div>
</div>
</div>
<p>From the data collected, the analysis of the attributes is as follows:</p>
</div>
<div class="section" id="importing-the-dataset">
<h2>Importing the dataset<a class="headerlink" href="#importing-the-dataset" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;Main_dataset.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">FileNotFoundError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="n">f3ea8aaa4189</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;Main_dataset.csv&#39;</span><span class="p">)</span>

<span class="nn">~/opt/anaconda3/lib/python3.7/site-packages/pandas/io/parsers.py</span> in <span class="ni">parser_f</span><span class="nt">(filepath_or_buffer, sep, delimiter, header, names, index_col, usecols, squeeze, prefix, mangle_dupe_cols, dtype, engine, converters, true_values, false_values, skipinitialspace, skiprows, skipfooter, nrows, na_values, keep_default_na, na_filter, verbose, skip_blank_lines, parse_dates, infer_datetime_format, keep_date_col, date_parser, dayfirst, cache_dates, iterator, chunksize, compression, thousands, decimal, lineterminator, quotechar, quoting, doublequote, escapechar, comment, encoding, dialect, error_bad_lines, warn_bad_lines, delim_whitespace, low_memory, memory_map, float_precision)</span>
<span class="g g-Whitespace">    </span><span class="mi">674</span>         <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">675</span> 
<span class="ne">--&gt; </span><span class="mi">676</span>         <span class="k">return</span> <span class="n">_read</span><span class="p">(</span><span class="n">filepath_or_buffer</span><span class="p">,</span> <span class="n">kwds</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">677</span> 
<span class="g g-Whitespace">    </span><span class="mi">678</span>     <span class="n">parser_f</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">=</span> <span class="n">name</span>

<span class="nn">~/opt/anaconda3/lib/python3.7/site-packages/pandas/io/parsers.py</span> in <span class="ni">_read</span><span class="nt">(filepath_or_buffer, kwds)</span>
<span class="g g-Whitespace">    </span><span class="mi">446</span> 
<span class="g g-Whitespace">    </span><span class="mi">447</span>     <span class="c1"># Create the parser.</span>
<span class="ne">--&gt; </span><span class="mi">448</span>     <span class="n">parser</span> <span class="o">=</span> <span class="n">TextFileReader</span><span class="p">(</span><span class="n">fp_or_buf</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">449</span> 
<span class="g g-Whitespace">    </span><span class="mi">450</span>     <span class="k">if</span> <span class="n">chunksize</span> <span class="ow">or</span> <span class="n">iterator</span><span class="p">:</span>

<span class="nn">~/opt/anaconda3/lib/python3.7/site-packages/pandas/io/parsers.py</span> in <span class="ni">__init__</span><span class="nt">(self, f, engine, **kwds)</span>
<span class="g g-Whitespace">    </span><span class="mi">878</span>             <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;has_index_names&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;has_index_names&quot;</span><span class="p">]</span>
<span class="g g-Whitespace">    </span><span class="mi">879</span> 
<span class="ne">--&gt; </span><span class="mi">880</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_make_engine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">881</span> 
<span class="g g-Whitespace">    </span><span class="mi">882</span>     <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

<span class="nn">~/opt/anaconda3/lib/python3.7/site-packages/pandas/io/parsers.py</span> in <span class="ni">_make_engine</span><span class="nt">(self, engine)</span>
<span class="g g-Whitespace">   </span><span class="mi">1112</span>     <span class="k">def</span> <span class="nf">_make_engine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">1113</span>         <span class="k">if</span> <span class="n">engine</span> <span class="o">==</span> <span class="s2">&quot;c&quot;</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">1114</span>             <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span> <span class="o">=</span> <span class="n">CParserWrapper</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1115</span>         <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1116</span>             <span class="k">if</span> <span class="n">engine</span> <span class="o">==</span> <span class="s2">&quot;python&quot;</span><span class="p">:</span>

<span class="nn">~/opt/anaconda3/lib/python3.7/site-packages/pandas/io/parsers.py</span> in <span class="ni">__init__</span><span class="nt">(self, src, **kwds)</span>
<span class="g g-Whitespace">   </span><span class="mi">1889</span>         <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;usecols&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">usecols</span>
<span class="g g-Whitespace">   </span><span class="mi">1890</span> 
<span class="ne">-&gt; </span><span class="mi">1891</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_reader</span> <span class="o">=</span> <span class="n">parsers</span><span class="o">.</span><span class="n">TextReader</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1892</span>         <span class="bp">self</span><span class="o">.</span><span class="n">unnamed_cols</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reader</span><span class="o">.</span><span class="n">unnamed_cols</span>
<span class="g g-Whitespace">   </span><span class="mi">1893</span> 

<span class="nn">pandas/_libs/parsers.pyx</span> in <span class="ni">pandas._libs.parsers.TextReader.__cinit__</span><span class="nt">()</span>

<span class="nn">pandas/_libs/parsers.pyx</span> in <span class="ni">pandas._libs.parsers.TextReader._setup_parser_source</span><span class="nt">()</span>

<span class="ne">FileNotFoundError</span>: [Errno 2] File Main_dataset.csv does not exist: &#39;Main_dataset.csv&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Unnamed: 0</th>
      <th>HHID</th>
      <th>Cluster</th>
      <th>strata</th>
      <th>Province</th>
      <th>District</th>
      <th>Sector</th>
      <th>Cellule</th>
      <th>Village</th>
      <th>B1</th>
      <th>...</th>
      <th>T28</th>
      <th>T28B</th>
      <th>T28C</th>
      <th>DATE_START</th>
      <th>TIME_START</th>
      <th>DATE_END</th>
      <th>TIME_END</th>
      <th>cluster</th>
      <th>sample_weight</th>
      <th>Locality</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>1.102021e+12</td>
      <td>1</td>
      <td>11</td>
      <td>City of Kigali</td>
      <td>Nyarugenge</td>
      <td>Kanyinya</td>
      <td>Nzove</td>
      <td>Ruyenzi</td>
      <td>2.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>18/11/2016</td>
      <td>12:05</td>
      <td>18/11/2016</td>
      <td>12:49</td>
      <td>11</td>
      <td>476.61765</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1.102021e+12</td>
      <td>1</td>
      <td>12</td>
      <td>City of Kigali</td>
      <td>Nyarugenge</td>
      <td>Kanyinya</td>
      <td>Nzove</td>
      <td>Ruyenzi</td>
      <td>1.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>18/11/2016</td>
      <td>10:23</td>
      <td>18/11/2016</td>
      <td>11:26</td>
      <td>12</td>
      <td>370.04202</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>1.102021e+12</td>
      <td>1</td>
      <td>12</td>
      <td>City of Kigali</td>
      <td>Nyarugenge</td>
      <td>Kanyinya</td>
      <td>Nzove</td>
      <td>Ruyenzi</td>
      <td>1.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>18/11/2016</td>
      <td>11:32</td>
      <td>18/11/2016</td>
      <td>12:24</td>
      <td>12</td>
      <td>370.04202</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>1.102021e+12</td>
      <td>1</td>
      <td>12</td>
      <td>City of Kigali</td>
      <td>Nyarugenge</td>
      <td>Kanyinya</td>
      <td>Nzove</td>
      <td>Ruyenzi</td>
      <td>1.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>18/11/2016</td>
      <td>10:30</td>
      <td>18/11/2016</td>
      <td>11:17</td>
      <td>12</td>
      <td>370.04202</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>1.102021e+12</td>
      <td>1</td>
      <td>12</td>
      <td>City of Kigali</td>
      <td>Nyarugenge</td>
      <td>Kanyinya</td>
      <td>Nzove</td>
      <td>Ruyenzi</td>
      <td>1.0</td>
      <td>...</td>
      <td>2.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>18/11/2016</td>
      <td>10:14</td>
      <td>18/11/2016</td>
      <td>11:28</td>
      <td>12</td>
      <td>370.04202</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 731 columns</p>
</div></div></div>
</div>
</div>
<div class="section" id="analysing-different-attributes">
<h2>Analysing different Attributes<a class="headerlink" href="#analysing-different-attributes" title="Permalink to this headline">¶</a></h2>
<p>Attributes which are analysed for MTF_Rwanda_Questionnaire_Household:</p>
<ol class="simple">
<li><p>Capacity</p></li>
<li><p>Availability</p></li>
<li><p>Reliability</p></li>
<li><p>Quality</p></li>
<li><p>Affordability</p></li>
<li><p>Formality</p></li>
<li><p>Health and safety</p></li>
</ol>
</div>
</div>
<div class="section" id="attribute-capacity">
<h1>Attribute: Capacity<a class="headerlink" href="#attribute-capacity" title="Permalink to this headline">¶</a></h1>
<p>This attribute corresponds to the power capacity of the household and is measured in Wh. To find out the power capacity, we need to know the different sources of power available. From our dataset:</p>
<ol class="simple">
<li><p>C22: Power available from the national grid</p></li>
<li><p>C64: Power available from the mini grid</p></li>
<li><p>C88: Power available from the generator set</p></li>
<li><p>C117: Power available from the inverter</p></li>
<li><p>C119: Power available from the batteries</p></li>
<li><p>C151: Power available from solar panel (Not present in the dataset but is there in the survey)</p></li>
<li><p>C154: Power available from solar batteries (Not present in the dataset but is there in the survey)</p></li>
<li><p>Other source: Pico-Hyro (power capacity question not mentioned in the survey)</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_total</span><span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;C22&#39;</span><span class="p">,</span> <span class="s1">&#39;C64&#39;</span><span class="p">,</span><span class="s1">&#39;C88&#39;</span><span class="p">,</span><span class="s1">&#39;C117&#39;</span><span class="p">,</span><span class="s1">&#39;C119A&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="renaming-the-columns">
<h2>Renaming the columns<a class="headerlink" href="#renaming-the-columns" title="Permalink to this headline">¶</a></h2>
<p>For a better understanding of the dataset, the columns are named as follows:</p>
<ol class="simple">
<li><p>C22: National_Grid</p></li>
<li><p>C64: Mini_Grid</p></li>
<li><p>C88: Generator</p></li>
<li><p>C117: Inverter</p></li>
<li><p>C119A: Battery</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_total</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;National_Grid&#39;</span><span class="p">,</span> <span class="s1">&#39;Mini_Grid&#39;</span><span class="p">,</span><span class="s1">&#39;Generator&#39;</span><span class="p">,</span><span class="s1">&#39;Inverter&#39;</span><span class="p">,</span><span class="s1">&#39;Battery&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="adding-total-capacity-to-the-dataset">
<h2>Adding “Total capacity to the dataset”<a class="headerlink" href="#adding-total-capacity-to-the-dataset" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lst</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">df_total</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="n">add</span><span class="o">=</span><span class="mi">0</span>
    <span class="n">gotnum</span><span class="o">=</span> <span class="kc">False</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">df_total</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
        <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">df_total</span><span class="o">.</span><span class="n">iat</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">])</span><span class="o">==</span><span class="kc">False</span><span class="p">:</span>
            <span class="n">gotnum</span><span class="o">=</span><span class="kc">True</span>
            <span class="n">add</span> <span class="o">=</span> <span class="n">add</span> <span class="o">+</span> <span class="n">df_total</span><span class="o">.</span><span class="n">iat</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">gotnum</span> <span class="p">:</span>
        <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">add</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
    
<span class="c1"># Adding the above list to dataframe</span>
<span class="n">df_total</span><span class="p">[</span><span class="s2">&quot;Total_Capacity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lst</span>

<span class="c1"># Replacing the 0 values again with NaN</span>
<span class="n">df_total</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="formulating-the-column-total-capacity">
<h2>Formulating the column “Total capacity”<a class="headerlink" href="#formulating-the-column-total-capacity" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># The power capacity units provided in the dataset are in monthly kWh. </span>
<span class="c1"># However, for TIER analysis the units are in daily Wh consumption. </span>
<span class="c1"># Therefore, dividing the dataset by 30 and multiplying it by 1000.</span>


<span class="n">df_total</span><span class="p">[</span><span class="s1">&#39;Total_Capacity&#39;</span><span class="p">]</span><span class="o">=</span> <span class="n">df_total</span><span class="o">.</span><span class="n">Total_Capacity</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">else</span> <span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="mi">1000</span><span class="p">)</span><span class="o">/</span><span class="mi">30</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_total</span><span class="p">[</span><span class="s2">&quot;Total_Capacity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_total</span><span class="o">.</span><span class="n">Total_Capacity</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s2">&quot;Missing_data&quot;</span> <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">else</span> <span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_total</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>National_Grid</th>
      <th>Mini_Grid</th>
      <th>Generator</th>
      <th>Inverter</th>
      <th>Battery</th>
      <th>Total_Capacity</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3290</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Missing_data</td>
    </tr>
    <tr>
      <th>3291</th>
      <td>4.65</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>155</td>
    </tr>
    <tr>
      <th>3292</th>
      <td>6.05</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>201.667</td>
    </tr>
    <tr>
      <th>3293</th>
      <td>4.65</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>155</td>
    </tr>
    <tr>
      <th>3294</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Missing_data</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="adding-column-tier-to-the-dataset">
<h2>Adding column “TIER” to the dataset<a class="headerlink" href="#adding-column-tier-to-the-dataset" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">conditions</span><span class="p">(</span><span class="n">Total_Capacity</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">Total_Capacity</span> <span class="o">==</span><span class="s1">&#39;Missing_data&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;Missing_data&quot;</span>
    <span class="k">elif</span> <span class="n">Total_Capacity</span><span class="o">&lt;</span><span class="mi">12</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;0&quot;</span>
    <span class="k">elif</span> <span class="mi">12</span><span class="o">&lt;=</span><span class="n">Total_Capacity</span><span class="o">&lt;</span><span class="mi">200</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;1&quot;</span>
    <span class="k">elif</span> <span class="mi">200</span><span class="o">&lt;=</span><span class="n">Total_Capacity</span><span class="o">&lt;</span><span class="mi">1000</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;2&quot;</span>
    <span class="k">elif</span> <span class="mi">1000</span><span class="o">&lt;=</span><span class="n">Total_Capacity</span><span class="o">&lt;</span><span class="mi">3400</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;3&quot;</span>
    <span class="k">elif</span> <span class="mi">3400</span><span class="o">&lt;=</span><span class="n">Total_Capacity</span><span class="o">&lt;</span><span class="mi">8200</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;4&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;5&quot;</span>
    
<span class="n">func</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="n">conditions</span><span class="p">)</span>
<span class="n">transform</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">df_total</span><span class="o">.</span><span class="n">Total_Capacity</span><span class="p">)</span>
<span class="n">df_total</span><span class="p">[</span><span class="s2">&quot;TIER_cap&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">transform</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="printing-the-tier-counts">
<h2>Printing the TIER counts<a class="headerlink" href="#printing-the-tier-counts" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_total</span><span class="p">[</span><span class="s1">&#39;TIER_cap&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Missing_data    1810
2                807
1                451
3                196
4                 27
5                  4
Name: TIER_cap, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="section" id="visualizing-the-tier-levels-with-missing-data">
<h3>Visualizing the TIER levels with “Missing_data”<a class="headerlink" href="#visualizing-the-tier-levels-with-missing-data" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Setting up the ESMAP color pallette</span>
<span class="n">esmap_colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;#864241&#39;</span><span class="p">,</span><span class="s1">&#39;#B85F57&#39;</span><span class="p">,</span><span class="s1">&#39;#E49202&#39;</span><span class="p">,</span><span class="s1">&#39;#5797B0&#39;</span><span class="p">,</span><span class="s1">&#39;#84B0B1&#39;</span><span class="p">,</span><span class="s1">&#39;#5C9989&#39;</span><span class="p">]</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_palette</span><span class="p">(</span><span class="n">esmap_colors</span><span class="p">)</span>

<span class="c1">#Pie plot</span>
<span class="n">f</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">df_total</span><span class="p">[</span><span class="s1">&#39;TIER_cap&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.0f%%</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on power capacity&#39;</span><span class="p">)</span>

<span class="c1">#Boxplot</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="s1">&#39;TIER_cap&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">df_total</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on power capacity&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1.0, &#39;TIER levels based on power capacity&#39;)
</pre></div>
</div>
<img alt="_images/Rwanda_MTF_Electricity_26_1.png" src="_images/Rwanda_MTF_Electricity_26_1.png" />
</div>
</div>
</div>
<div class="section" id="visualizing-the-tier-levels-without-missing-data">
<h3>Visualizing the TIER levels without “Missing_data”<a class="headerlink" href="#visualizing-the-tier-levels-without-missing-data" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2_total</span> <span class="o">=</span> <span class="n">df_total</span><span class="p">[</span><span class="n">df_total</span> <span class="o">!=</span> <span class="s1">&#39;Missing_data&#39;</span><span class="p">]</span> 
<span class="n">df2_total</span><span class="o">=</span><span class="n">df2_total</span><span class="p">[[</span><span class="s1">&#39;TIER_cap&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Setting up the ESMAP color pallette</span>
<span class="n">esmap_colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;#864241&#39;</span><span class="p">,</span><span class="s1">&#39;#B85F57&#39;</span><span class="p">,</span><span class="s1">&#39;#E49202&#39;</span><span class="p">,</span><span class="s1">&#39;#5797B0&#39;</span><span class="p">,</span><span class="s1">&#39;#84B0B1&#39;</span><span class="p">,</span><span class="s1">&#39;#5C9989&#39;</span><span class="p">]</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_palette</span><span class="p">(</span><span class="n">esmap_colors</span><span class="p">)</span>

<span class="c1">#Pie plot</span>
<span class="n">f</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">df2_total</span><span class="p">[</span><span class="s1">&#39;TIER_cap&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.0f%%</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on power capacity&#39;</span><span class="p">)</span>

<span class="c1">#Boxplot</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="s1">&#39;TIER_cap&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">df2_total</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on power capacity&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1.0, &#39;TIER levels based on power capacity&#39;)
</pre></div>
</div>
<img alt="_images/Rwanda_MTF_Electricity_29_1.png" src="_images/Rwanda_MTF_Electricity_29_1.png" />
</div>
</div>
<p>In the above graph it can be seen:</p>
<ol class="simple">
<li><p>TIER 1 corresponds to 30% of the households which recieves at least 12Wh of power supply</p></li>
<li><p>TIER 2 corresponds to 54% of the households which recieves at least 200Wh of power supply</p></li>
<li><p>TIER 3 corresponds to 13% of the households which recieves at least 1kWh of power supply</p></li>
<li><p>TIER 4 corresponds to 2% of the households which recieves at least 3.4kWh of power supply</p></li>
<li><p>TIER 5 corresponds to less than 1% of the households which recieves at least 8.2kWh of power supply</p></li>
</ol>
</div>
</div>
</div>
<div class="section" id="attribute-availabilty">
<h1>Attribute: Availabilty<a class="headerlink" href="#attribute-availabilty" title="Permalink to this headline">¶</a></h1>
<p>The availability relates to the hours of electricity supply that the household receives. For a better analysis the availability is measured per day hours (24/7), and evening hours (maximum of 4 hours).</p>
<div class="section" id="availability-day-and-night">
<h2>Availability: Day and night<a class="headerlink" href="#availability-day-and-night" title="Permalink to this headline">¶</a></h2>
<p>Methodology:</p>
<p>To understand the attribute more carefully, features from every power souce have been taekn into consideration;</p>
<ul class="simple">
<li><p>C26A represents the hours of electricity available each day and night from the national grid in the worst months.</p></li>
<li><p>Whereas, C26B represents the hours of electricity available each day and night from  the national grid in the typical months.</p></li>
<li><p>C68A represents the hours of electricity available each day and night from the mini grid in the worst months.</p></li>
<li><p>Whereas, C68B represents the hours of electricity available each day and night from  the mini grid in the typical months.</p></li>
<li><p>C107A represents the hours of electricity available each day and night from the generator set in the worst months.</p></li>
<li><p>Whereas, C107B represents the hours of electricity available each day and night from  the generator set in the typical months.</p></li>
<li><p>C127 represents the hours of electricity available each day from the rechargeable battery.</p></li>
<li><p>C137A represents the hours of electricity available each day and night from pico-hydro in the worst months.</p></li>
<li><p>Whereas, C137B represents the hours of electricity available each day and night from  pico-hydro in the typical months.</p></li>
<li><p>C172A represents the hours of electricity available each day and night from  main solar based devices in the worst months.</p></li>
<li><p>Whereas, C172B represents the hours of electricity available each day and night from  main solar based devices in the typical months.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_av</span><span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;C26A&#39;</span><span class="p">,</span><span class="s1">&#39;C26B&#39;</span><span class="p">,</span><span class="s1">&#39;C68A&#39;</span><span class="p">,</span><span class="s1">&#39;C68B&#39;</span><span class="p">,</span><span class="s1">&#39;C107A&#39;</span><span class="p">,</span><span class="s1">&#39;C107B&#39;</span><span class="p">,</span><span class="s1">&#39;C127&#39;</span><span class="p">,</span><span class="s1">&#39;C137A&#39;</span><span class="p">,</span><span class="s1">&#39;C137B&#39;</span><span class="p">,</span><span class="s1">&#39;C172A&#39;</span><span class="p">,</span><span class="s1">&#39;C172B&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id1">
<h3>Renaming the columns<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_av</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;National_grid_Worst&#39;</span><span class="p">,</span> <span class="s1">&#39;National_grid_Typical&#39;</span><span class="p">,</span><span class="s1">&#39;Mini_grid_Worst&#39;</span><span class="p">,</span><span class="s1">&#39;Mini_grid_Typical&#39;</span><span class="p">,</span><span class="s1">&#39;Generator_set_Worst&#39;</span><span class="p">,</span><span class="s1">&#39;Generator_set_Typical&#39;</span><span class="p">,</span><span class="s1">&#39;Battery&#39;</span><span class="p">,</span><span class="s1">&#39;Pico_hydro_Worst&#39;</span><span class="p">,</span><span class="s1">&#39;Pico_hydro_Typical&#39;</span><span class="p">,</span><span class="s1">&#39;Solar_device_Worst&#39;</span><span class="p">,</span><span class="s1">&#39;Solar_device_Typical&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_av</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>National_grid_Worst</th>
      <th>National_grid_Typical</th>
      <th>Mini_grid_Worst</th>
      <th>Mini_grid_Typical</th>
      <th>Generator_set_Worst</th>
      <th>Generator_set_Typical</th>
      <th>Battery</th>
      <th>Pico_hydro_Worst</th>
      <th>Pico_hydro_Typical</th>
      <th>Solar_device_Worst</th>
      <th>Solar_device_Typical</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3290</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>3291</th>
      <td>13.0</td>
      <td>18.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3292</th>
      <td>19.0</td>
      <td>24.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3293</th>
      <td>NaN</td>
      <td>23.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3294</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_av</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 3295 entries, 0 to 3294
Data columns (total 11 columns):
 #   Column                 Non-Null Count  Dtype  
---  ------                 --------------  -----  
 0   National_grid_Worst    652 non-null    float64
 1   National_grid_Typical  1591 non-null   float64
 2   Mini_grid_Worst        2 non-null      float64
 3   Mini_grid_Typical      8 non-null      float64
 4   Generator_set_Worst    1 non-null      float64
 5   Generator_set_Typical  1 non-null      float64
 6   Battery                4 non-null      float64
 7   Pico_hydro_Worst       3 non-null      float64
 8   Pico_hydro_Typical     5 non-null      float64
 9   Solar_device_Worst     39 non-null     float64
 10  Solar_device_Typical   109 non-null    float64
dtypes: float64(11)
memory usage: 283.3 KB
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="calculation">
<h3>Calculation<a class="headerlink" href="#calculation" title="Permalink to this headline">¶</a></h3>
<p>In this step Total availabilty for all the power sources has been analysed. Taking the worst months into consideration, the missing values in “worst” months have been added from the “typical” months. This is done as the World bank takes the worst condition into account for enery access assessment.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#National Grid</span>
<span class="n">df_av</span><span class="p">[</span><span class="s1">&#39;National_grid_Total&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_av</span><span class="o">.</span><span class="n">National_grid_Worst</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">df_av</span><span class="o">.</span><span class="n">National_grid_Typical</span><span class="p">)</span>

<span class="c1">#National Grid</span>
<span class="n">df_av</span><span class="p">[</span><span class="s1">&#39;Mini_grid_Total&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_av</span><span class="o">.</span><span class="n">Mini_grid_Worst</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">df_av</span><span class="o">.</span><span class="n">Mini_grid_Typical</span><span class="p">)</span>

<span class="c1">#Generator Set</span>
<span class="n">df_av</span><span class="p">[</span><span class="s1">&#39;Generator_set_Total&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_av</span><span class="o">.</span><span class="n">Generator_set_Worst</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">df_av</span><span class="o">.</span><span class="n">Generator_set_Typical</span><span class="p">)</span>

<span class="c1">#Pico Hydro</span>
<span class="n">df_av</span><span class="p">[</span><span class="s1">&#39;Pico_hydro_Total&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_av</span><span class="o">.</span><span class="n">Pico_hydro_Worst</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">df_av</span><span class="o">.</span><span class="n">Pico_hydro_Typical</span><span class="p">)</span>

<span class="c1">#Solar Devicce</span>
<span class="n">df_av</span><span class="p">[</span><span class="s1">&#39;Solar_device_Total&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_av</span><span class="o">.</span><span class="n">Solar_device_Worst</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">df_av</span><span class="o">.</span><span class="n">Solar_device_Typical</span><span class="p">)</span>


<span class="c1">#Taking only the total values into consideration</span>
<span class="n">df_av_new</span><span class="o">=</span><span class="n">df_av</span><span class="p">[[</span><span class="s1">&#39;National_grid_Total&#39;</span><span class="p">,</span><span class="s1">&#39;Mini_grid_Total&#39;</span><span class="p">,</span><span class="s1">&#39;Generator_set_Total&#39;</span><span class="p">,</span><span class="s1">&#39;Pico_hydro_Total&#39;</span><span class="p">,</span><span class="s1">&#39;Solar_device_Total&#39;</span><span class="p">,</span><span class="s1">&#39;Battery&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_av_new</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>National_grid_Total</th>
      <th>Mini_grid_Total</th>
      <th>Generator_set_Total</th>
      <th>Pico_hydro_Total</th>
      <th>Solar_device_Total</th>
      <th>Battery</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3290</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3291</th>
      <td>13.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3292</th>
      <td>19.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3293</th>
      <td>23.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3294</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="changing-the-string-variables-into-float-int">
<h3>Changing the string variables into float/int<a class="headerlink" href="#changing-the-string-variables-into-float-int" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_av_new</span><span class="o">=</span><span class="n">df_av_new</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">to_replace</span><span class="o">=</span><span class="s2">&quot;Don&#39;t know&quot;</span><span class="p">,</span><span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_av_new</span><span class="o">=</span> <span class="n">df_av_new</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_av_new</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 3295 entries, 0 to 3294
Data columns (total 6 columns):
 #   Column               Non-Null Count  Dtype  
---  ------               --------------  -----  
 0   National_grid_Total  1591 non-null   float64
 1   Mini_grid_Total      8 non-null      float64
 2   Generator_set_Total  1 non-null      float64
 3   Pico_hydro_Total     5 non-null      float64
 4   Solar_device_Total   110 non-null    float64
 5   Battery              4 non-null      float64
dtypes: float64(6)
memory usage: 154.6 KB
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="calculating-the-total-availability">
<h3>Calculating the total availability<a class="headerlink" href="#calculating-the-total-availability" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lst</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">df_av_new</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="n">add</span><span class="o">=</span><span class="mi">0</span>
    <span class="n">gotnum</span><span class="o">=</span> <span class="kc">False</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">df_av_new</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
        <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">df_av_new</span><span class="o">.</span><span class="n">iat</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">])</span><span class="o">==</span><span class="kc">False</span><span class="p">:</span>
            <span class="n">gotnum</span><span class="o">=</span><span class="kc">True</span>
            <span class="n">add</span> <span class="o">=</span> <span class="n">add</span> <span class="o">+</span> <span class="n">df_av_new</span><span class="o">.</span><span class="n">iat</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">gotnum</span> <span class="p">:</span>
        <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">add</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
    
<span class="c1"># adding list to dataframe</span>
<span class="n">df_av_new</span><span class="p">[</span><span class="s2">&quot;Total_availability&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lst</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_av_new</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>National_grid_Total</th>
      <th>Mini_grid_Total</th>
      <th>Generator_set_Total</th>
      <th>Pico_hydro_Total</th>
      <th>Solar_device_Total</th>
      <th>Battery</th>
      <th>Total_availability</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3290</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>NaN</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3291</th>
      <td>13.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>13.0</td>
    </tr>
    <tr>
      <th>3292</th>
      <td>19.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>19.0</td>
    </tr>
    <tr>
      <th>3293</th>
      <td>23.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>23.0</td>
    </tr>
    <tr>
      <th>3294</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_av_new</span><span class="o">=</span><span class="n">df_av_new</span><span class="p">[[</span><span class="s1">&#39;Total_availability&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="replacing-nan-and-don-t-know-values-with-missing-data">
<h3>Replacing NaN and “Don’t know” values with “Missing_data”<a class="headerlink" href="#replacing-nan-and-don-t-know-values-with-missing-data" title="Permalink to this headline">¶</a></h3>
<p>This is done to keep the missing values into analysis (As it is important to know how many missing values do we have)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_av_new</span><span class="p">[</span><span class="s1">&#39;Total_availability&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_av_new</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="s1">&#39;Missing_data&#39;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_av_new</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Total_availability</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3290</th>
      <td>1</td>
    </tr>
    <tr>
      <th>3291</th>
      <td>13</td>
    </tr>
    <tr>
      <th>3292</th>
      <td>19</td>
    </tr>
    <tr>
      <th>3293</th>
      <td>23</td>
    </tr>
    <tr>
      <th>3294</th>
      <td>Missing_data</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="id2">
<h3>Adding column “TIER” to the dataset<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># AVAILABILITY: Day</span>
<span class="c1">#Note: conditions for TIER 1 and 2 are the same</span>

<span class="k">def</span> <span class="nf">conditions</span><span class="p">(</span><span class="n">Total_availability</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">Total_availability</span> <span class="o">==</span> <span class="s1">&#39;Missing_data&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;Missing_data&quot;</span>
    <span class="k">elif</span> <span class="n">Total_availability</span><span class="o">&lt;</span><span class="mi">4</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;0&quot;</span>
    <span class="k">elif</span> <span class="mi">4</span><span class="o">&lt;=</span><span class="n">Total_availability</span><span class="o">&lt;</span><span class="mi">8</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;1&amp;2&quot;</span>
    <span class="k">elif</span> <span class="mi">8</span><span class="o">&lt;=</span><span class="n">Total_availability</span><span class="o">&lt;</span><span class="mi">16</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;3&quot;</span>
    <span class="k">elif</span> <span class="mi">16</span><span class="o">&lt;=</span><span class="n">Total_availability</span><span class="o">&lt;</span><span class="mi">23</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;4&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;5&quot;</span>
    
<span class="n">func</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="n">conditions</span><span class="p">)</span>
<span class="n">transform</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">df_av_new</span><span class="o">.</span><span class="n">Total_availability</span><span class="p">)</span>
<span class="n">df_av_new</span><span class="p">[</span><span class="s2">&quot;TIER_av&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">transform</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_av_new</span><span class="p">[</span><span class="s1">&#39;TIER_av&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Missing_data    1598
5                701
4                589
3                210
1&amp;2              102
0                 95
Name: TIER_av, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="section" id="id3">
<h4>Visualizing the TIER levels with “Missing_data”<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Setting up the ESMAP color pallette</span>
<span class="n">esmap_colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;#864241&#39;</span><span class="p">,</span><span class="s1">&#39;#B85F57&#39;</span><span class="p">,</span><span class="s1">&#39;#E49202&#39;</span><span class="p">,</span><span class="s1">&#39;#5797B0&#39;</span><span class="p">,</span><span class="s1">&#39;#84B0B1&#39;</span><span class="p">,</span><span class="s1">&#39;#5C9989&#39;</span><span class="p">]</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_palette</span><span class="p">(</span><span class="n">esmap_colors</span><span class="p">)</span>

<span class="c1">#Pie plot</span>
<span class="n">f</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">df_av_new</span><span class="p">[</span><span class="s1">&#39;TIER_av&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.0f%%</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on day and night power availability&#39;</span><span class="p">)</span>

<span class="c1">#Barplot</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="s1">&#39;TIER_av&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">df_av_new</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on day and night power availability&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1.0, &#39;TIER levels based on day and night power availability&#39;)
</pre></div>
</div>
<img alt="_images/Rwanda_MTF_Electricity_58_1.png" src="_images/Rwanda_MTF_Electricity_58_1.png" />
</div>
</div>
</div>
<div class="section" id="id4">
<h4>Visualizing the TIER levels without “Missing_data”<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2_av</span> <span class="o">=</span> <span class="n">df_av_new</span><span class="p">[</span><span class="n">df_av_new</span> <span class="o">!=</span> <span class="s1">&#39;Missing_data&#39;</span><span class="p">]</span> 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2_av</span><span class="o">=</span><span class="n">df2_av</span><span class="p">[[</span><span class="s1">&#39;TIER_av&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Setting up the ESMAP color pallette</span>
<span class="n">esmap_colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;#864241&#39;</span><span class="p">,</span><span class="s1">&#39;#B85F57&#39;</span><span class="p">,</span><span class="s1">&#39;#E49202&#39;</span><span class="p">,</span><span class="s1">&#39;#5797B0&#39;</span><span class="p">,</span><span class="s1">&#39;#84B0B1&#39;</span><span class="p">,</span><span class="s1">&#39;#5C9989&#39;</span><span class="p">]</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_palette</span><span class="p">(</span><span class="n">esmap_colors</span><span class="p">)</span>

<span class="c1">#Pie plot</span>
<span class="n">f</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">df2_av</span><span class="p">[</span><span class="s1">&#39;TIER_av&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.0f%%</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on power capacity&#39;</span><span class="p">)</span>

<span class="c1">#Boxplot</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="s1">&#39;TIER_av&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">df2_av</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on power capacity&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1.0, &#39;TIER levels based on power capacity&#39;)
</pre></div>
</div>
<img alt="_images/Rwanda_MTF_Electricity_62_1.png" src="_images/Rwanda_MTF_Electricity_62_1.png" />
</div>
</div>
<p>In the above graph we can see that the daily availability in:</p>
<ol class="simple">
<li><p>TIER 0 contributes to 6% of evening availability which is less than 4 hours</p></li>
<li><p>TIER 1&amp;2 contributes to 6% of evening availability which is at least 4 hours</p></li>
<li><p>TIER 3 contributes to 12% of evening availability which is at least 8 hours</p></li>
<li><p>TIER 4 contributes to 35% of evening availability which is at least 16 hours</p></li>
<li><p>TIER 5 contributes to 41% of evening availability which is at least 23 hours</p></li>
</ol>
</div>
</div>
</div>
<div class="section" id="attribute-availabilty-evening">
<h2>Attribute: Availabilty (Evening)<a class="headerlink" href="#attribute-availabilty-evening" title="Permalink to this headline">¶</a></h2>
<p>Methodology:</p>
<p>To understand the attribute more carefully, features from every power souce have been taekn into consideration;</p>
<ul class="simple">
<li><p>C27A represents the hours of electricity available each evening from the national grid in the worst months.</p></li>
<li><p>Whereas, C27B represents the hours of electricity available each evening from  the national grid in the typical months.</p></li>
<li><p>C69A represents the hours of electricity available each evening from the mini grid in the worst months.</p></li>
<li><p>Whereas, C69B represents the hours of electricity available each evening from  the mini grid in the typical months.</p></li>
<li><p>C108A represents the hours of electricity available each evening from the generator set in the worst months.</p></li>
<li><p>Whereas, C108B represents the hours of electricity available each evening from  the generator set in the typical months.</p></li>
<li><p>C138A represents the hours of electricity available each evening from pico-hydro in the worst months.</p></li>
<li><p>Whereas, C138B represents the hours of electricity available each evening from  pico-hydro in the typical months.</p></li>
<li><p>C173A represents the hours of electricity available each evening from main solar based devices in the worst months.</p></li>
<li><p>Whereas, C173B represents the hours of electricity available each evening from  main solar based devices in the typical months.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_ave</span><span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;C27A&#39;</span><span class="p">,</span><span class="s1">&#39;C27B&#39;</span><span class="p">,</span><span class="s1">&#39;C69A&#39;</span><span class="p">,</span><span class="s1">&#39;C69B&#39;</span><span class="p">,</span><span class="s1">&#39;C108A&#39;</span><span class="p">,</span><span class="s1">&#39;C108B&#39;</span><span class="p">,</span><span class="s1">&#39;C138A&#39;</span><span class="p">,</span><span class="s1">&#39;C138B&#39;</span><span class="p">,</span><span class="s1">&#39;C173A&#39;</span><span class="p">,</span><span class="s1">&#39;C173B&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id5">
<h3>Renaming the columns<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_ave</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;National_grid_Worst&#39;</span><span class="p">,</span> <span class="s1">&#39;National_grid_Typical&#39;</span><span class="p">,</span><span class="s1">&#39;Mini_grid_Worst&#39;</span><span class="p">,</span><span class="s1">&#39;Mini_grid_Typical&#39;</span><span class="p">,</span><span class="s1">&#39;Generator_set_Worst&#39;</span><span class="p">,</span><span class="s1">&#39;Generator_set_Typical&#39;</span><span class="p">,</span><span class="s1">&#39;Pico_hydro_Worst&#39;</span><span class="p">,</span><span class="s1">&#39;Pico_hydro_Typical&#39;</span><span class="p">,</span><span class="s1">&#39;Solar_device_Worst&#39;</span><span class="p">,</span><span class="s1">&#39;Solar_device_Typical&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_ave</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>National_grid_Worst</th>
      <th>National_grid_Typical</th>
      <th>Mini_grid_Worst</th>
      <th>Mini_grid_Typical</th>
      <th>Generator_set_Worst</th>
      <th>Generator_set_Typical</th>
      <th>Pico_hydro_Worst</th>
      <th>Pico_hydro_Typical</th>
      <th>Solar_device_Worst</th>
      <th>Solar_device_Typical</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3290</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>3291</th>
      <td>2.0</td>
      <td>4.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3292</th>
      <td>1.0</td>
      <td>4.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3293</th>
      <td>NaN</td>
      <td>4.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3294</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_ave</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 3295 entries, 0 to 3294
Data columns (total 10 columns):
 #   Column                 Non-Null Count  Dtype  
---  ------                 --------------  -----  
 0   National_grid_Worst    652 non-null    float64
 1   National_grid_Typical  1591 non-null   float64
 2   Mini_grid_Worst        2 non-null      float64
 3   Mini_grid_Typical      8 non-null      float64
 4   Generator_set_Worst    1 non-null      float64
 5   Generator_set_Typical  1 non-null      float64
 6   Pico_hydro_Worst       3 non-null      float64
 7   Pico_hydro_Typical     5 non-null      float64
 8   Solar_device_Worst     39 non-null     float64
 9   Solar_device_Typical   109 non-null    float64
dtypes: float64(10)
memory usage: 257.5 KB
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id6">
<h3>Calculation<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>In this step Total availabilty for all the power sources has been analysed. Taking the worst months into consideration, the missing values in “worst” months have been added from the “typical” months. This is done as the World bank takes the worst condition into account for enery access assessment.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#National Grid</span>
<span class="n">df_ave</span><span class="p">[</span><span class="s1">&#39;National_grid_Total&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_ave</span><span class="o">.</span><span class="n">National_grid_Worst</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">df_ave</span><span class="o">.</span><span class="n">National_grid_Typical</span><span class="p">)</span>

<span class="c1">#National Grid</span>
<span class="n">df_ave</span><span class="p">[</span><span class="s1">&#39;Mini_grid_Total&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_ave</span><span class="o">.</span><span class="n">Mini_grid_Worst</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">df_ave</span><span class="o">.</span><span class="n">Mini_grid_Typical</span><span class="p">)</span>

<span class="c1">#Generator Set</span>
<span class="n">df_ave</span><span class="p">[</span><span class="s1">&#39;Generator_set_Total&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_ave</span><span class="o">.</span><span class="n">Generator_set_Worst</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">df_ave</span><span class="o">.</span><span class="n">Generator_set_Typical</span><span class="p">)</span>

<span class="c1">#Pico Hydro</span>
<span class="n">df_ave</span><span class="p">[</span><span class="s1">&#39;Pico_hydro_Total&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_ave</span><span class="o">.</span><span class="n">Pico_hydro_Worst</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">df_ave</span><span class="o">.</span><span class="n">Pico_hydro_Typical</span><span class="p">)</span>

<span class="c1">#Solar Devicce</span>
<span class="n">df_ave</span><span class="p">[</span><span class="s1">&#39;Solar_device_Total&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_ave</span><span class="o">.</span><span class="n">Solar_device_Worst</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">df_ave</span><span class="o">.</span><span class="n">Solar_device_Typical</span><span class="p">)</span>


<span class="c1">#Taking only the total values into consideration</span>
<span class="n">df_ave_new</span><span class="o">=</span><span class="n">df_ave</span><span class="p">[[</span><span class="s1">&#39;National_grid_Total&#39;</span><span class="p">,</span><span class="s1">&#39;Mini_grid_Total&#39;</span><span class="p">,</span><span class="s1">&#39;Generator_set_Total&#39;</span><span class="p">,</span><span class="s1">&#39;Pico_hydro_Total&#39;</span><span class="p">,</span><span class="s1">&#39;Solar_device_Total&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id7">
<h3>Changing the string variables into float/int<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_ave_new</span><span class="o">=</span><span class="n">df_ave_new</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">to_replace</span><span class="o">=</span><span class="s2">&quot;Don&#39;t know&quot;</span><span class="p">,</span><span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_ave_new</span><span class="o">=</span> <span class="n">df_ave_new</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id8">
<h3>Calculating the total availability<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lst</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">df_ave_new</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="n">add</span><span class="o">=</span><span class="mi">0</span>
    <span class="n">gotnum</span><span class="o">=</span> <span class="kc">False</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">df_ave_new</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
        <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">df_ave_new</span><span class="o">.</span><span class="n">iat</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">])</span><span class="o">==</span><span class="kc">False</span><span class="p">:</span>
            <span class="n">gotnum</span><span class="o">=</span><span class="kc">True</span>
            <span class="n">add</span> <span class="o">=</span> <span class="n">add</span> <span class="o">+</span> <span class="n">df_ave_new</span><span class="o">.</span><span class="n">iat</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">gotnum</span> <span class="p">:</span>
        <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">add</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
    
<span class="c1"># adding list to dataframe</span>
<span class="n">df_ave_new</span><span class="p">[</span><span class="s2">&quot;Total_availability&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lst</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_ave_new</span><span class="o">=</span><span class="n">df_ave_new</span><span class="p">[[</span><span class="s1">&#39;Total_availability&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="replacing-nan-values-with-missing-data">
<h3>Replacing NaN values with “Missing_data”<a class="headerlink" href="#replacing-nan-values-with-missing-data" title="Permalink to this headline">¶</a></h3>
<p>This is done to keep the missing values into analysis (As it is important to know how many missing values do we have)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_ave_new</span><span class="p">[</span><span class="s1">&#39;Total_availability&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_ave_new</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="s1">&#39;Missing_data&#39;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id9">
<h3>Adding column “TIER” to the dataset<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># AVAILABILITY: Day</span>
<span class="c1">#Note: conditions for TIER 4 and 5 are the same</span>

<span class="k">def</span> <span class="nf">conditions</span><span class="p">(</span><span class="n">Total_availability</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">Total_availability</span> <span class="o">==</span> <span class="s1">&#39;Missing_data&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;Missing_data&quot;</span>
    <span class="k">elif</span> <span class="n">Total_availability</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;Missing_data&quot;</span>
    <span class="k">elif</span> <span class="mi">0</span><span class="o">&lt;</span><span class="n">Total_availability</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;0&quot;</span>
    <span class="k">elif</span> <span class="mi">1</span><span class="o">&lt;=</span><span class="n">Total_availability</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;1&quot;</span>
    <span class="k">elif</span> <span class="mi">2</span><span class="o">&lt;=</span><span class="n">Total_availability</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;2&quot;</span>
    <span class="k">elif</span> <span class="mi">3</span><span class="o">&lt;=</span><span class="n">Total_availability</span><span class="o">&lt;</span><span class="mi">4</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;3&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;4&amp;5&quot;</span>
    
<span class="n">func</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="n">conditions</span><span class="p">)</span>
<span class="n">transform</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">df_ave_new</span><span class="o">.</span><span class="n">Total_availability</span><span class="p">)</span>
<span class="n">df_ave_new</span><span class="p">[</span><span class="s2">&quot;TIER&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">transform</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_ave_new</span><span class="p">[</span><span class="s1">&#39;TIER&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Missing_data    1602
4&amp;5              901
3                408
2                248
1                136
Name: TIER, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="section" id="id10">
<h4>Visualizing the TIER levels with “Missing_data”<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Setting up the ESMAP color pallette</span>
<span class="n">esmap_colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;#864241&#39;</span><span class="p">,</span><span class="s1">&#39;#B85F57&#39;</span><span class="p">,</span><span class="s1">&#39;#E49202&#39;</span><span class="p">,</span><span class="s1">&#39;#5797B0&#39;</span><span class="p">,</span><span class="s1">&#39;#84B0B1&#39;</span><span class="p">,</span><span class="s1">&#39;#5C9989&#39;</span><span class="p">]</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_palette</span><span class="p">(</span><span class="n">esmap_colors</span><span class="p">)</span>

<span class="c1">#Pie plot</span>
<span class="n">f</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">df_ave_new</span><span class="p">[</span><span class="s1">&#39;TIER&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.0f%%</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on evening power availability&#39;</span><span class="p">)</span>

<span class="c1">#Barplot</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="s1">&#39;TIER&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">df_ave_new</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on evening power availability&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1.0, &#39;TIER levels based on evening power availability&#39;)
</pre></div>
</div>
<img alt="_images/Rwanda_MTF_Electricity_85_1.png" src="_images/Rwanda_MTF_Electricity_85_1.png" />
</div>
</div>
</div>
<div class="section" id="id11">
<h4>Visualizing the TIER levels without “Missing_data”<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span> <span class="o">=</span> <span class="n">df_ave_new</span><span class="p">[</span><span class="n">df_ave_new</span> <span class="o">!=</span> <span class="s1">&#39;Missing_data&#39;</span><span class="p">]</span> 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Setting up the ESMAP color pallette</span>
<span class="n">esmap_colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;#864241&#39;</span><span class="p">,</span><span class="s1">&#39;#B85F57&#39;</span><span class="p">,</span><span class="s1">&#39;#E49202&#39;</span><span class="p">,</span><span class="s1">&#39;#5797B0&#39;</span><span class="p">,</span><span class="s1">&#39;#84B0B1&#39;</span><span class="p">,</span><span class="s1">&#39;#5C9989&#39;</span><span class="p">]</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_palette</span><span class="p">(</span><span class="n">esmap_colors</span><span class="p">)</span>

<span class="c1">#Pie plot</span>
<span class="n">f</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">df2</span><span class="p">[</span><span class="s1">&#39;TIER&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.0f%%</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on power capacity&#39;</span><span class="p">)</span>

<span class="c1">#Boxplot</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="s1">&#39;TIER&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">df2</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on power capacity&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1.0, &#39;TIER levels based on power capacity&#39;)
</pre></div>
</div>
<img alt="_images/Rwanda_MTF_Electricity_88_1.png" src="_images/Rwanda_MTF_Electricity_88_1.png" />
</div>
</div>
<p>In the above graph we can see that the evening availability in:</p>
<ol class="simple">
<li><p>TIER 1 contributes to 8% of evening availability which is at least 1 hours</p></li>
<li><p>TIER 2 contributes to 15% of evening availability which is at least 2 hours</p></li>
<li><p>TIER 3 contributes to 24% of evening availability which is at least 3 hours</p></li>
<li><p>TIER 4&amp;5 contributes to 53% of evening availability which is at least 4 hours</p></li>
</ol>
</div>
</div>
</div>
</div>
<div class="section" id="attribute-reliability">
<h1>Attribute: Reliability<a class="headerlink" href="#attribute-reliability" title="Permalink to this headline">¶</a></h1>
<p>Methodology:</p>
<p>This indicator was developed to know how many disruptions of energy supply does the household suffer, and the duration of it. To understand the attribute more carefully, features from all the power sources have been taekn into consideration;</p>
<ul class="simple">
<li><p>C29A represents the electricity disruption from the national grid in the worst months.</p></li>
<li><p>Whereas, C29B represents the electricity disruption from the national grid in the actual months.</p></li>
<li><p>C30A represents the duration of the outages from the national grid in the worst months.</p></li>
<li><p>C30B represents the duration of the outagesfrom the national grid in the worst months.</p></li>
<li><p>C71A represents the electricity disruption from the mini grid in the actual months.</p></li>
<li><p>Whereas, C71B represents the electricity disruption from the mini grid in the actual months.</p></li>
<li><p>C72A represents the duration of the outages from the mini grid in the worst months.</p></li>
<li><p>C72B represents the duration of the outages from the mini grid in the actual months.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_rel</span><span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;C29A&#39;</span><span class="p">,</span><span class="s1">&#39;C29B&#39;</span><span class="p">,</span><span class="s1">&#39;C30A&#39;</span><span class="p">,</span><span class="s1">&#39;C30B&#39;</span><span class="p">,</span><span class="s1">&#39;C71A&#39;</span><span class="p">,</span><span class="s1">&#39;C71B&#39;</span><span class="p">,</span><span class="s1">&#39;C72A&#39;</span><span class="p">,</span><span class="s1">&#39;C72B&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id12">
<h2>Renaming the columns<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_rel</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;National_grid_Worst&#39;</span><span class="p">,</span><span class="s1">&#39;National_grid_Typical&#39;</span><span class="p">,</span><span class="s1">&#39;National_duration_Worst&#39;</span><span class="p">,</span><span class="s1">&#39;National_duration_Typical&#39;</span><span class="p">,</span><span class="s1">&#39;Mini_grid_Worst&#39;</span><span class="p">,</span><span class="s1">&#39;Mini_grid_Typical&#39;</span><span class="p">,</span><span class="s1">&#39;Mini_duration_Worst&#39;</span><span class="p">,</span><span class="s1">&#39;Mini_duration_Typical&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_rel</span><span class="o">=</span><span class="n">df_rel</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">to_replace</span><span class="o">=</span><span class="mi">888</span><span class="p">,</span><span class="n">value</span><span class="o">=</span><span class="n">math</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id13">
<h2>Calculation<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h2>
<p>In this step Total reliability from all the power sources has been analysed. Taking the worst months into consideration, the missing values in “worst” months have been added from the “typical” months. This is done as the World bank takes the worst condition into account for enery access assessment.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#National Grid</span>
<span class="n">df_rel</span><span class="p">[</span><span class="s1">&#39;National_grid_Total&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_rel</span><span class="o">.</span><span class="n">National_grid_Worst</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">df_rel</span><span class="o">.</span><span class="n">National_grid_Typical</span><span class="p">)</span>

<span class="c1">#Duration_national</span>
<span class="n">df_rel</span><span class="p">[</span><span class="s1">&#39;National_duration_Total&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_rel</span><span class="o">.</span><span class="n">National_duration_Worst</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">df_rel</span><span class="o">.</span><span class="n">National_duration_Typical</span><span class="p">)</span>

<span class="c1">#Mini Grid</span>
<span class="n">df_rel</span><span class="p">[</span><span class="s1">&#39;Mini_grid_Total&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_rel</span><span class="o">.</span><span class="n">Mini_grid_Worst</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">df_rel</span><span class="o">.</span><span class="n">Mini_grid_Typical</span><span class="p">)</span>

<span class="c1">#Duration_mini</span>
<span class="n">df_rel</span><span class="p">[</span><span class="s1">&#39;Mini_duration_Total&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_rel</span><span class="o">.</span><span class="n">Mini_duration_Worst</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">df_rel</span><span class="o">.</span><span class="n">Mini_duration_Typical</span><span class="p">)</span>

<span class="c1">#Taking only the total values into consideration</span>
<span class="n">df_rel_new</span><span class="o">=</span><span class="n">df_rel</span><span class="p">[[</span><span class="s1">&#39;National_grid_Total&#39;</span><span class="p">,</span><span class="s1">&#39;National_duration_Total&#39;</span><span class="p">,</span><span class="s1">&#39;Mini_grid_Total&#39;</span><span class="p">,</span><span class="s1">&#39;Mini_duration_Total&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_rel_new</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>National_grid_Total</th>
      <th>National_duration_Total</th>
      <th>Mini_grid_Total</th>
      <th>Mini_duration_Total</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3290</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3291</th>
      <td>3.0</td>
      <td>5.0</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3292</th>
      <td>1.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3293</th>
      <td>2.0</td>
      <td>10.0</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3294</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="id14">
<h2>Replacing NaN values with “Missing_data”<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h2>
<p>This is done to keep the missing values into analysis (As it is important to know how many missing values do we have)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_rel_new</span><span class="o">=</span><span class="n">df_rel_new</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">to_replace</span><span class="o">=</span><span class="n">math</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span><span class="n">value</span><span class="o">=</span><span class="s1">&#39;Missing_data&#39;</span><span class="p">,</span><span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id15">
<h2>Adding column “TIER” to the dataset<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lst</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="n">df_rel_new</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
    <span class="n">grid_total</span> <span class="o">=</span> <span class="n">df_rel_new</span><span class="o">.</span><span class="n">iat</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">duration_total</span> <span class="o">=</span> <span class="n">df_rel_new</span><span class="o">.</span><span class="n">iat</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">grid_total</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">grid_total</span><span class="o">==</span><span class="s2">&quot;Missing_data&quot;</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;Missing_data&quot;</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">duration_total</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">duration_total</span><span class="o">==</span><span class="s2">&quot;Missing_data&quot;</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;Missing_data&quot;</span>
    <span class="k">elif</span> <span class="mi">0</span><span class="o">&lt;</span><span class="n">grid_total</span><span class="o">&lt;=</span><span class="mi">3</span> <span class="ow">and</span> <span class="n">duration_total</span><span class="o">&lt;</span><span class="mi">2</span> <span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;5&quot;</span>
    <span class="k">elif</span> <span class="mi">3</span><span class="o">&lt;</span><span class="n">grid_total</span><span class="o">&lt;=</span><span class="mi">14</span> <span class="ow">and</span> <span class="n">duration_total</span><span class="o">&gt;</span><span class="mi">2</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;3&amp;4&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;0,1&amp;2&quot;</span>
    <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
       
<span class="c1"># adding list to dataframe</span>
<span class="n">df_rel_new</span><span class="p">[</span><span class="s2">&quot;TIER_rel&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lst</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_rel_new</span><span class="p">[</span><span class="s1">&#39;TIER_rel&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Missing_data    1983
0,1&amp;2           1083
5                125
3&amp;4              104
Name: TIER_rel, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="section" id="id16">
<h3>Visualizing the TIER levels with “Missing_data”<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Setting up the ESMAP color pallette</span>
<span class="n">esmap_colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;#864241&#39;</span><span class="p">,</span><span class="s1">&#39;#B85F57&#39;</span><span class="p">,</span><span class="s1">&#39;#E49202&#39;</span><span class="p">,</span><span class="s1">&#39;#5797B0&#39;</span><span class="p">,</span><span class="s1">&#39;#84B0B1&#39;</span><span class="p">,</span><span class="s1">&#39;#5C9989&#39;</span><span class="p">]</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_palette</span><span class="p">(</span><span class="n">esmap_colors</span><span class="p">)</span>

<span class="c1">#Pie plot</span>
<span class="n">f</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">df_rel_new</span><span class="p">[</span><span class="s1">&#39;TIER_rel&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.0f%%</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on reliability&#39;</span><span class="p">)</span>

<span class="c1">#Barplot</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="s1">&#39;TIER_rel&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">df_rel_new</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on reliability&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1.0, &#39;TIER levels based on reliability&#39;)
</pre></div>
</div>
<img alt="_images/Rwanda_MTF_Electricity_104_1.png" src="_images/Rwanda_MTF_Electricity_104_1.png" />
</div>
</div>
</div>
<div class="section" id="id17">
<h3>Visualizing the TIER levels without “Missing_data”<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2_rel</span> <span class="o">=</span> <span class="n">df_rel_new</span><span class="p">[</span><span class="n">df_rel_new</span> <span class="o">!=</span> <span class="s1">&#39;Missing_data&#39;</span><span class="p">]</span> 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2_rel</span><span class="o">=</span><span class="n">df2_rel</span><span class="p">[[</span><span class="s1">&#39;TIER_rel&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Setting up the ESMAP color pallette</span>
<span class="n">esmap_colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;#864241&#39;</span><span class="p">,</span><span class="s1">&#39;#B85F57&#39;</span><span class="p">,</span><span class="s1">&#39;#E49202&#39;</span><span class="p">,</span><span class="s1">&#39;#5797B0&#39;</span><span class="p">,</span><span class="s1">&#39;#84B0B1&#39;</span><span class="p">,</span><span class="s1">&#39;#5C9989&#39;</span><span class="p">]</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_palette</span><span class="p">(</span><span class="n">esmap_colors</span><span class="p">)</span>

<span class="c1">#Pie plot</span>
<span class="n">f</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">df2_rel</span><span class="p">[</span><span class="s1">&#39;TIER_rel&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.0f%%</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on reliability&#39;</span><span class="p">)</span>

<span class="c1">#Boxplot</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="s1">&#39;TIER_rel&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">df2_rel</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on reliability&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1.0, &#39;TIER levels based on reliability&#39;)
</pre></div>
</div>
<img alt="_images/Rwanda_MTF_Electricity_108_1.png" src="_images/Rwanda_MTF_Electricity_108_1.png" />
</div>
</div>
<p>In the above graph we can see:</p>
<ol class="simple">
<li><p>TIER 5 contributes to only 10% of disruptions which is at most 3 disruptions per week with total duration of less than 2 hours</p></li>
<li><p>TIER 3 &amp; 4 contributes to 8% of disruptions which is at most 14 disruptions per week and more than 3 disruptions per week with total duration of more than 2 hours</p></li>
<li><p>Most of the disruptions/outages in the power supply is in TIER 0,1 and 2 which is 83%</p></li>
</ol>
</div>
</div>
</div>
<div class="section" id="attribute-quality">
<h1>Attribute: Quality<a class="headerlink" href="#attribute-quality" title="Permalink to this headline">¶</a></h1>
<p>Methodology:</p>
<p>The quality attribute refers to if the household had experienced voltage problems that damaged the appliances or its desired use. To understand the attribute more carefully, features from all the power sources have been taekn into consideration;</p>
<ul class="simple">
<li><p>C39 represents the damaged appliances from the national grid.</p></li>
<li><p>C81 represents the damaged appliances from the mini grid.</p></li>
<li><p>C110 represents the damaged appliances from the generator set.</p></li>
<li><p>C140 represents the damaged appliances from the Pico-hydro.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_q</span><span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;C39&#39;</span><span class="p">,</span><span class="s1">&#39;C81&#39;</span><span class="p">,</span><span class="s1">&#39;C110&#39;</span><span class="p">,</span><span class="s1">&#39;C140&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id18">
<h2>Renaming the columns<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_q</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;National_grid&#39;</span><span class="p">,</span> <span class="s1">&#39;Mini_grid&#39;</span><span class="p">,</span><span class="s1">&#39;Generator_set&#39;</span><span class="p">,</span><span class="s1">&#39;Pico_hydro&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_q</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>National_grid</th>
      <th>Mini_grid</th>
      <th>Generator_set</th>
      <th>Pico_hydro</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3290</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3291</th>
      <td>1.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3292</th>
      <td>2.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3293</th>
      <td>2.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3294</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_q</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 3295 entries, 0 to 3294
Data columns (total 4 columns):
 #   Column         Non-Null Count  Dtype  
---  ------         --------------  -----  
 0   National_grid  1591 non-null   float64
 1   Mini_grid      8 non-null      float64
 2   Generator_set  1 non-null      float64
 3   Pico_hydro     5 non-null      float64
dtypes: float64(4)
memory usage: 103.1 KB
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id19">
<h2>Changing the string variables into float/int<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_q</span><span class="o">=</span><span class="n">df_q</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">to_replace</span><span class="o">=</span><span class="s2">&quot;Don?t know&quot;</span><span class="p">,</span><span class="n">value</span><span class="o">=</span><span class="s1">&#39;Missing_data&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id20">
<h2>Replacing NaN values with “Missing_data”<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h2>
<p>This is done to keep the missing values into analysis (As it is important to know how many missing values do we have)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_q</span> <span class="o">=</span> <span class="n">df_q</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="s1">&#39;Missing_data&#39;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_q</span><span class="o">=</span><span class="n">df_q</span><span class="p">[[</span><span class="s1">&#39;National_grid&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">conditions</span><span class="p">(</span><span class="n">National_grid</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">National_grid</span> <span class="o">==</span> <span class="s1">&#39;Missing_data&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;Missing_data&quot;</span>
    <span class="k">elif</span> <span class="n">National_grid</span><span class="o">==</span><span class="mi">888</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;Missing_data&quot;</span>
    <span class="k">elif</span> <span class="n">National_grid</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;0,1,2&amp;3&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;4&amp;5&quot;</span>
    
<span class="n">func</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="n">conditions</span><span class="p">)</span>
<span class="n">transform</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">df_q</span><span class="o">.</span><span class="n">National_grid</span><span class="p">)</span>
<span class="n">df_q</span><span class="p">[</span><span class="s2">&quot;TIER_q&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">transform</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id21">
<h3>Visualizing the TIER levels with “Missing_data”<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Setting up the ESMAP color pallette</span>
<span class="n">esmap_colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;#864241&#39;</span><span class="p">,</span><span class="s1">&#39;#B85F57&#39;</span><span class="p">,</span><span class="s1">&#39;#E49202&#39;</span><span class="p">,</span><span class="s1">&#39;#5797B0&#39;</span><span class="p">,</span><span class="s1">&#39;#84B0B1&#39;</span><span class="p">,</span><span class="s1">&#39;#5C9989&#39;</span><span class="p">]</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_palette</span><span class="p">(</span><span class="n">esmap_colors</span><span class="p">)</span>

<span class="c1">#Pie plot</span>
<span class="n">f</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">df_q</span><span class="p">[</span><span class="s1">&#39;TIER_q&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.0f%%</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on power quality&#39;</span><span class="p">)</span>

<span class="c1">#Barplot</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="s1">&#39;TIER_q&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">df_q</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on power quality&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1.0, &#39;TIER levels based on power quality&#39;)
</pre></div>
</div>
<img alt="_images/Rwanda_MTF_Electricity_123_1.png" src="_images/Rwanda_MTF_Electricity_123_1.png" />
</div>
</div>
</div>
<div class="section" id="id22">
<h3>Visualizing the TIER levels without “Missing_data”<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2_q</span> <span class="o">=</span> <span class="n">df_q</span><span class="p">[</span><span class="n">df_q</span> <span class="o">!=</span> <span class="s1">&#39;Missing_data&#39;</span><span class="p">]</span> 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2_q</span><span class="o">=</span><span class="n">df2_q</span><span class="p">[[</span><span class="s1">&#39;TIER_q&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Setting up the ESMAP color pallette</span>
<span class="n">esmap_colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;#864241&#39;</span><span class="p">,</span><span class="s1">&#39;#B85F57&#39;</span><span class="p">,</span><span class="s1">&#39;#E49202&#39;</span><span class="p">,</span><span class="s1">&#39;#5797B0&#39;</span><span class="p">,</span><span class="s1">&#39;#84B0B1&#39;</span><span class="p">,</span><span class="s1">&#39;#5C9989&#39;</span><span class="p">]</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_palette</span><span class="p">(</span><span class="n">esmap_colors</span><span class="p">)</span>

<span class="c1">#Pie plot</span>
<span class="n">f</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">df2_q</span><span class="p">[</span><span class="s1">&#39;TIER_q&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.0f%%</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on quality&#39;</span><span class="p">)</span>

<span class="c1">#Barplot</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="s1">&#39;TIER_q&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">df2_q</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on quality&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1.0, &#39;TIER levels based on quality&#39;)
</pre></div>
</div>
<img alt="_images/Rwanda_MTF_Electricity_127_1.png" src="_images/Rwanda_MTF_Electricity_127_1.png" />
</div>
</div>
<p>In the above graph it can be seen that:</p>
<ol class="simple">
<li><p>The products damaged by national grid are 24% which comes in the TIER 0-3</p></li>
<li><p>The products which are not damaged by national grid are 76% and it comes in the TIER 4-5.</p></li>
<li><p>The data for the other power sources is not sufficient to visualize.</p></li>
</ol>
</div>
</div>
</div>
<div class="section" id="attribute-affordability">
<h1>Attribute: Affordability<a class="headerlink" href="#attribute-affordability" title="Permalink to this headline">¶</a></h1>
<p>For the case of Rwanda, the information about affordability couldn’t be collected.</p>
</div>
<div class="section" id="attribute-formality">
<h1>Attribute: Formality<a class="headerlink" href="#attribute-formality" title="Permalink to this headline">¶</a></h1>
<p>Methodology:</p>
<p>This attribute relates to the payments of the electricity supply. To understand the attribute more carefully, features from all the power sources have been taekn into consideration;</p>
<ul class="simple">
<li><p>C17 represents the electricity bill payment for using the national grid.</p></li>
<li><p>C57 represents the electricity bill payment for using the mini grid.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_f</span><span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;C17&#39;</span><span class="p">,</span><span class="s1">&#39;C57&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id23">
<h2>Renaming the columns<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_f</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;National_grid&#39;</span><span class="p">,</span> <span class="s1">&#39;Mini_grid&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_f</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>National_grid</th>
      <th>Mini_grid</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>4.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="id24">
<h2>Replacing NaN values with “Missing_data”<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_f</span> <span class="o">=</span> <span class="n">df_f</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="s1">&#39;Missing_data&#39;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="focusing-on-national-grid">
<h2>Focusing on National grid<a class="headerlink" href="#focusing-on-national-grid" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># No bill paid for electricity= TIER 0-3</span>
<span class="c1"># Bill paid for electricity= TIER 4&amp;5</span>

<span class="k">def</span> <span class="nf">conditions</span><span class="p">(</span><span class="n">National_grid</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">National_grid</span> <span class="o">==</span> <span class="s1">&#39;Missing_data&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;Missing_data&quot;</span>
    <span class="k">elif</span> <span class="n">National_grid</span><span class="o">==</span><span class="mi">111</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;0,1,2&amp;3&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;4&amp;5&quot;</span>
    
<span class="n">func</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="n">conditions</span><span class="p">)</span>
<span class="n">transform</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">df_f</span><span class="o">.</span><span class="n">National_grid</span><span class="p">)</span>
<span class="n">df_f</span><span class="p">[</span><span class="s2">&quot;TIER_f&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">transform</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id25">
<h3>Visualizing the TIER levels with “Missing_data”<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Setting up the ESMAP color pallette</span>
<span class="n">esmap_colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;#864241&#39;</span><span class="p">,</span><span class="s1">&#39;#B85F57&#39;</span><span class="p">,</span><span class="s1">&#39;#E49202&#39;</span><span class="p">,</span><span class="s1">&#39;#5797B0&#39;</span><span class="p">,</span><span class="s1">&#39;#84B0B1&#39;</span><span class="p">,</span><span class="s1">&#39;#5C9989&#39;</span><span class="p">]</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_palette</span><span class="p">(</span><span class="n">esmap_colors</span><span class="p">)</span>

<span class="n">df_f</span><span class="p">[</span><span class="s1">&#39;TIER_f&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.0f%%</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on formality&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1, &#39;TIER levels based on formality&#39;)
</pre></div>
</div>
<img alt="_images/Rwanda_MTF_Electricity_141_1.png" src="_images/Rwanda_MTF_Electricity_141_1.png" />
</div>
</div>
</div>
<div class="section" id="id26">
<h3>Visualizing the TIER levels without “Missing_data”<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2_f</span> <span class="o">=</span> <span class="n">df_f</span><span class="p">[</span><span class="n">df_f</span> <span class="o">!=</span> <span class="s1">&#39;Missing_data&#39;</span><span class="p">]</span> 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2_f</span><span class="o">=</span><span class="n">df2_f</span><span class="p">[[</span><span class="s1">&#39;TIER_f&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Setting up the ESMAP color pallette</span>
<span class="n">esmap_colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;#864241&#39;</span><span class="p">,</span><span class="s1">&#39;#B85F57&#39;</span><span class="p">,</span><span class="s1">&#39;#E49202&#39;</span><span class="p">,</span><span class="s1">&#39;#5797B0&#39;</span><span class="p">,</span><span class="s1">&#39;#84B0B1&#39;</span><span class="p">,</span><span class="s1">&#39;#5C9989&#39;</span><span class="p">]</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_palette</span><span class="p">(</span><span class="n">esmap_colors</span><span class="p">)</span>

<span class="n">df2_f</span><span class="p">[</span><span class="s1">&#39;TIER_f&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.0f%%</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on formality&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1, &#39;TIER levels based on formality&#39;)
</pre></div>
</div>
<img alt="_images/Rwanda_MTF_Electricity_145_1.png" src="_images/Rwanda_MTF_Electricity_145_1.png" />
</div>
</div>
<p>In the above graph we can see:</p>
<ol class="simple">
<li><p>Only 2% lies in TIER 0-3 for not paying the electricity bill</p></li>
<li><p>98% lies in TIER 4-5 for paying the electricity bill</p></li>
</ol>
</div>
</div>
</div>
<div class="section" id="attribute-health-and-safety">
<h1>Attribute: Health and Safety<a class="headerlink" href="#attribute-health-and-safety" title="Permalink to this headline">¶</a></h1>
<p>Methodology:</p>
<p>Health and Safety relates to the accidents (serious or fatal) that could occur because of the electricity connection. To understand the attribute more carefully, features from all the power sources have been taekn into consideration;</p>
<ul class="simple">
<li><p>C41 represents the accidents caused using the national grid.</p></li>
<li><p>C83 represents the accidents caused using the mini grid.</p></li>
<li><p>C112 represents the accidents caused using the generator set.</p></li>
<li><p>C130 represents the accidents caused using the battery.</p></li>
<li><p>C142 represents the accidents caused using the Pico-hydro.</p></li>
<li><p>C175 represents the accidents caused using the solar based devices.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_hs</span><span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;C41&#39;</span><span class="p">,</span><span class="s1">&#39;C83&#39;</span><span class="p">,</span><span class="s1">&#39;C112&#39;</span><span class="p">,</span><span class="s1">&#39;C130&#39;</span><span class="p">,</span><span class="s1">&#39;C142&#39;</span><span class="p">,</span><span class="s1">&#39;C175&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_hs</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;National_grid&#39;</span><span class="p">,</span> <span class="s1">&#39;Mini_grid&#39;</span><span class="p">,</span><span class="s1">&#39;Generator_set&#39;</span><span class="p">,</span><span class="s1">&#39;Battery&#39;</span><span class="p">,</span><span class="s1">&#39;Pico_hydro&#39;</span><span class="p">,</span><span class="s1">&#39;Solar_devices&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_hs</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>National_grid</th>
      <th>Mini_grid</th>
      <th>Generator_set</th>
      <th>Battery</th>
      <th>Pico_hydro</th>
      <th>Solar_devices</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="section" id="id27">
<h2>Focusing on National grid<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_hs</span> <span class="o">=</span> <span class="n">df_hs</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="s1">&#39;Missing_data&#39;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">conditions</span><span class="p">(</span><span class="n">National_grid</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">National_grid</span> <span class="o">==</span> <span class="s1">&#39;Missing_data&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;Missing_data&quot;</span>
    <span class="k">elif</span> <span class="n">National_grid</span><span class="o">==</span><span class="s1">&#39;Yes&#39;</span> <span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;0,1,2&amp;3&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;4&amp;5&quot;</span>
    
<span class="n">func</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="n">conditions</span><span class="p">)</span>
<span class="n">transform</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">df_hs</span><span class="o">.</span><span class="n">National_grid</span><span class="p">)</span>
<span class="n">df_hs</span><span class="p">[</span><span class="s2">&quot;TIER_hs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">transform</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id28">
<h3>Visualizing the TIER levels with “Missing_data”<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Setting up the ESMAP color pallette</span>
<span class="n">esmap_colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;#864241&#39;</span><span class="p">,</span><span class="s1">&#39;#B85F57&#39;</span><span class="p">,</span><span class="s1">&#39;#E49202&#39;</span><span class="p">,</span><span class="s1">&#39;#5797B0&#39;</span><span class="p">,</span><span class="s1">&#39;#84B0B1&#39;</span><span class="p">,</span><span class="s1">&#39;#5C9989&#39;</span><span class="p">]</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_palette</span><span class="p">(</span><span class="n">esmap_colors</span><span class="p">)</span>

<span class="n">df_hs</span><span class="p">[</span><span class="s1">&#39;TIER_hs&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.0f%%</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on Health and safety&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1, &#39;TIER levels based on Health and safety&#39;)
</pre></div>
</div>
<img alt="_images/Rwanda_MTF_Electricity_155_1.png" src="_images/Rwanda_MTF_Electricity_155_1.png" />
</div>
</div>
</div>
<div class="section" id="id29">
<h3>Visualizing the TIER levels without “Missing_data”<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2_hs</span> <span class="o">=</span> <span class="n">df_hs</span><span class="p">[</span><span class="n">df_hs</span> <span class="o">!=</span> <span class="s1">&#39;Missing_data&#39;</span><span class="p">]</span> 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2_hs</span><span class="o">=</span><span class="n">df2_hs</span><span class="p">[[</span><span class="s1">&#39;TIER_hs&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Setting up the ESMAP color pallette</span>
<span class="n">esmap_colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;#864241&#39;</span><span class="p">,</span><span class="s1">&#39;#B85F57&#39;</span><span class="p">,</span><span class="s1">&#39;#E49202&#39;</span><span class="p">,</span><span class="s1">&#39;#5797B0&#39;</span><span class="p">,</span><span class="s1">&#39;#84B0B1&#39;</span><span class="p">,</span><span class="s1">&#39;#5C9989&#39;</span><span class="p">]</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_palette</span><span class="p">(</span><span class="n">esmap_colors</span><span class="p">)</span>

<span class="n">df2_hs</span><span class="p">[</span><span class="s1">&#39;TIER_hs&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.0f%%</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on Health and safety&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1, &#39;TIER levels based on Health and safety&#39;)
</pre></div>
</div>
<img alt="_images/Rwanda_MTF_Electricity_159_1.png" src="_images/Rwanda_MTF_Electricity_159_1.png" />
</div>
</div>
<p>The above figure shows that no one from grid-connected households reported a serious accident caused by
electrocution.</p>
</div>
</div>
</div>
<div class="section" id="visualising-all-the-grouped-tiers-together">
<h1>Visualising all the grouped TIERs together<a class="headerlink" href="#visualising-all-the-grouped-tiers-together" title="Permalink to this headline">¶</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_TIER</span><span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df2_total</span><span class="p">,</span><span class="n">df2_av</span><span class="p">,</span><span class="n">df2_rel</span><span class="p">,</span><span class="n">df2_q</span><span class="p">,</span><span class="n">df2_f</span><span class="p">,</span><span class="n">df2_hs</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_TIER</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Capacity&#39;</span><span class="p">,</span> <span class="s1">&#39;Availability&#39;</span><span class="p">,</span><span class="s1">&#39;Reliability&#39;</span><span class="p">,</span><span class="s1">&#39;Quality&#39;</span><span class="p">,</span><span class="s1">&#39;Formality&#39;</span><span class="p">,</span><span class="s1">&#39;Health_Safety&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_plot</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Attribute&#39;</span><span class="p">])</span>
<span class="n">df_plot</span><span class="p">[</span><span class="s1">&#39;Attribute&#39;</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Capacity&quot;</span><span class="p">,</span><span class="s2">&quot;Availability&quot;</span><span class="p">,</span><span class="s2">&quot;Reliability&quot;</span><span class="p">,</span><span class="s2">&quot;Quality&quot;</span><span class="p">,</span><span class="s2">&quot;Formality&quot;</span><span class="p">,</span><span class="s2">&quot;Health_Safety&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_plot</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attribute</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Capacity</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Availability</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Reliability</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Quality</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Formality</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Health_Safety</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">op</span><span class="o">=</span><span class="n">df_TIER</span><span class="p">[</span><span class="s1">&#39;Capacity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="k">for</span> <span class="n">items</span> <span class="ow">in</span> <span class="n">op</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span> 
    <span class="n">tier</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">df_plot</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">tier</span><span class="p">]</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="n">op</span><span class="o">=</span><span class="n">df_TIER</span><span class="p">[</span><span class="s1">&#39;Availability&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="k">for</span> <span class="n">items</span> <span class="ow">in</span> <span class="n">op</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span> 
    <span class="n">tier</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">df_plot</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">tier</span><span class="p">]</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    
<span class="n">op</span><span class="o">=</span><span class="n">df_TIER</span><span class="p">[</span><span class="s1">&#39;Reliability&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="k">for</span> <span class="n">items</span> <span class="ow">in</span> <span class="n">op</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span> 
    <span class="n">tier</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">df_plot</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="n">tier</span><span class="p">]</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    
<span class="n">op</span><span class="o">=</span><span class="n">df_TIER</span><span class="p">[</span><span class="s1">&#39;Quality&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="k">for</span> <span class="n">items</span> <span class="ow">in</span> <span class="n">op</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span> 
    <span class="n">tier</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">df_plot</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="n">tier</span><span class="p">]</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="n">op</span><span class="o">=</span><span class="n">df_TIER</span><span class="p">[</span><span class="s1">&#39;Formality&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="k">for</span> <span class="n">items</span> <span class="ow">in</span> <span class="n">op</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span> 
    <span class="n">tier</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">df_plot</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="n">tier</span><span class="p">]</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    
<span class="n">op</span><span class="o">=</span><span class="n">df_TIER</span><span class="p">[</span><span class="s1">&#39;Health_Safety&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="k">for</span> <span class="n">items</span> <span class="ow">in</span> <span class="n">op</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span> 
    <span class="n">tier</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">df_plot</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="n">tier</span><span class="p">]</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_plot</span> <span class="o">=</span> <span class="n">df_plot</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">esmap_colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;#864241&#39;</span><span class="p">,</span><span class="s1">&#39;#B85F57&#39;</span><span class="p">,</span><span class="s1">&#39;#E49202&#39;</span><span class="p">,</span><span class="s1">&#39;#5797B0&#39;</span><span class="p">,</span><span class="s1">&#39;#84B0B1&#39;</span><span class="p">,</span><span class="s1">&#39;#5C9989&#39;</span><span class="p">]</span>

<span class="n">sns</span><span class="o">.</span><span class="n">set_palette</span><span class="p">(</span><span class="n">esmap_colors</span><span class="p">)</span>

<span class="n">ax</span><span class="o">=</span><span class="n">df_plot</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;Attribute&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;2&quot;</span><span class="p">,</span><span class="s2">&quot;1&quot;</span><span class="p">,</span><span class="s2">&quot;3&quot;</span><span class="p">,</span><span class="s2">&quot;4&quot;</span><span class="p">,</span><span class="s2">&quot;5&quot;</span><span class="p">,</span><span class="s2">&quot;1&amp;2&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0,1&amp;2&quot;</span><span class="p">,</span><span class="s2">&quot;3&amp;4&quot;</span><span class="p">,</span><span class="s2">&quot;4&amp;5&quot;</span><span class="p">,</span><span class="s2">&quot;0,1,2&amp;3&quot;</span><span class="p">],</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">7</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;Households&quot;</span><span class="p">,</span><span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Attributes&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Households by TIER&quot;</span><span class="p">)</span>

<span class="c1">#Adjusting the ticks</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">():</span>
    <span class="n">item</span><span class="o">.</span><span class="n">set_rotation</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Rwanda_MTF_Electricity_168_0.png" src="_images/Rwanda_MTF_Electricity_168_0.png" />
</div>
</div>
</div>
<div class="section" id="visualising-only-tiers-0-5">
<h1>Visualising only TIERs 0-5<a class="headerlink" href="#visualising-only-tiers-0-5" title="Permalink to this headline">¶</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_TIER_new</span><span class="o">=</span><span class="n">df_TIER</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_TIER_new</span><span class="p">[</span><span class="s1">&#39;Reliability&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0,1&amp;2    1083
5         125
3&amp;4       104
Name: Reliability, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_TIER_new</span> <span class="o">=</span> <span class="n">df_TIER_new</span><span class="o">.</span><span class="n">replace</span><span class="p">((</span><span class="s1">&#39;0,1,2&amp;3&#39;</span><span class="p">,</span><span class="s1">&#39;0,1&amp;2&#39;</span><span class="p">,</span><span class="s1">&#39;1&amp;2&#39;</span><span class="p">,</span><span class="s1">&#39;3&amp;4&#39;</span><span class="p">,</span><span class="s1">&#39;4&amp;5&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">,</span><span class="s1">&#39;0&#39;</span><span class="p">,</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="s1">&#39;3&#39;</span><span class="p">,</span><span class="s1">&#39;4&#39;</span><span class="p">),</span><span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_plot_new</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Attribute&#39;</span><span class="p">])</span>
<span class="n">df_plot_new</span><span class="p">[</span><span class="s1">&#39;Attribute&#39;</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Capacity&quot;</span><span class="p">,</span><span class="s2">&quot;Availability&quot;</span><span class="p">,</span><span class="s2">&quot;Reliability&quot;</span><span class="p">,</span><span class="s2">&quot;Quality&quot;</span><span class="p">,</span><span class="s2">&quot;Formality&quot;</span><span class="p">,</span><span class="s2">&quot;Health_Safety&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">op</span><span class="o">=</span><span class="n">df_TIER_new</span><span class="p">[</span><span class="s1">&#39;Capacity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="k">for</span> <span class="n">items</span> <span class="ow">in</span> <span class="n">op</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span> 
    <span class="n">tier</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">df_plot_new</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">tier</span><span class="p">]</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="n">op</span><span class="o">=</span><span class="n">df_TIER_new</span><span class="p">[</span><span class="s1">&#39;Availability&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="k">for</span> <span class="n">items</span> <span class="ow">in</span> <span class="n">op</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span> 
    <span class="n">tier</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">df_plot_new</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">tier</span><span class="p">]</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    
<span class="n">op</span><span class="o">=</span><span class="n">df_TIER_new</span><span class="p">[</span><span class="s1">&#39;Reliability&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="k">for</span> <span class="n">items</span> <span class="ow">in</span> <span class="n">op</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span> 
    <span class="n">tier</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">df_plot_new</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="n">tier</span><span class="p">]</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    
<span class="n">op</span><span class="o">=</span><span class="n">df_TIER_new</span><span class="p">[</span><span class="s1">&#39;Quality&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="k">for</span> <span class="n">items</span> <span class="ow">in</span> <span class="n">op</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span> 
    <span class="n">tier</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">df_plot_new</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="n">tier</span><span class="p">]</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="n">op</span><span class="o">=</span><span class="n">df_TIER_new</span><span class="p">[</span><span class="s1">&#39;Formality&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="k">for</span> <span class="n">items</span> <span class="ow">in</span> <span class="n">op</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span> 
    <span class="n">tier</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">df_plot_new</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="n">tier</span><span class="p">]</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    
<span class="n">op</span><span class="o">=</span><span class="n">df_TIER_new</span><span class="p">[</span><span class="s1">&#39;Health_Safety&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="k">for</span> <span class="n">items</span> <span class="ow">in</span> <span class="n">op</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span> 
    <span class="n">tier</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">df_plot_new</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="n">tier</span><span class="p">]</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    

<span class="c1">#Replacing nan values with 0    </span>
<span class="n">df_plot_new</span> <span class="o">=</span> <span class="n">df_plot_new</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">esmap_colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;#864241&#39;</span><span class="p">,</span><span class="s1">&#39;#B85F57&#39;</span><span class="p">,</span><span class="s1">&#39;#E49202&#39;</span><span class="p">,</span><span class="s1">&#39;#5797B0&#39;</span><span class="p">,</span><span class="s1">&#39;#84B0B1&#39;</span><span class="p">,</span><span class="s1">&#39;#5C9989&#39;</span><span class="p">]</span>

<span class="n">sns</span><span class="o">.</span><span class="n">set_palette</span><span class="p">(</span><span class="n">esmap_colors</span><span class="p">)</span>

<span class="n">ax</span><span class="o">=</span><span class="n">df_plot_new</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;Attribute&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;0&#39;</span><span class="p">,</span><span class="s2">&quot;1&quot;</span><span class="p">,</span><span class="s2">&quot;2&quot;</span><span class="p">,</span><span class="s2">&quot;3&quot;</span><span class="p">,</span><span class="s2">&quot;4&quot;</span><span class="p">,</span><span class="s2">&quot;5&quot;</span><span class="p">],</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">7</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;Households&quot;</span><span class="p">,</span><span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Attributes&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Households by TIER&quot;</span><span class="p">)</span>

<span class="c1">#Adjusting the ticks</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">():</span>
    <span class="n">item</span><span class="o">.</span><span class="n">set_rotation</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Rwanda_MTF_Electricity_175_0.png" src="_images/Rwanda_MTF_Electricity_175_0.png" />
</div>
</div>
</div>
<div class="section" id="aggregated-analysis-index-of-access-to-household-electricity">
<h1>Aggregated Analysis: Index of Access to Household Electricity<a class="headerlink" href="#aggregated-analysis-index-of-access-to-household-electricity" title="Permalink to this headline">¶</a></h1>
<p>To compile the information captured by the multi-tier matrix into a single number representing the level
of access to household electricity in a selected geographic area, a simple index can be calculated by
weighting the tiers and arriving at a weighted average. The following formula is applied:</p>
<p><span class="math notranslate nohighlight">\(
\sum \limits _{k=0} ^{5}  20 * P_{k} * k \)</span>   |  Where,  <span class="math notranslate nohighlight">\(k\)</span>: tier number &amp; <span class="math notranslate nohighlight">\(P_{k}\)</span>: proportion of households at the kth tier</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_plot_new</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attribute</th>
      <th>2</th>
      <th>1</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>0</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Capacity</td>
      <td>807.0</td>
      <td>451.0</td>
      <td>196.0</td>
      <td>27.0</td>
      <td>4.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Availability</td>
      <td>0.0</td>
      <td>102.0</td>
      <td>210.0</td>
      <td>589.0</td>
      <td>701.0</td>
      <td>95.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Reliability</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>104.0</td>
      <td>0.0</td>
      <td>125.0</td>
      <td>1083.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Quality</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1115.0</td>
      <td>0.0</td>
      <td>343.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Formality</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1600.0</td>
      <td>0.0</td>
      <td>32.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Health_Safety</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1581.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_AA</span><span class="o">=</span> <span class="n">df_plot_new</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">numeric_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_AA_new</span> <span class="o">=</span> <span class="n">df_AA</span><span class="o">/</span><span class="n">df_AA</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="n">add</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">items</span> <span class="ow">in</span> <span class="n">df_AA_new</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span> 
    
    <span class="n">add</span><span class="o">=</span> <span class="n">add</span> <span class="o">+</span> <span class="p">(</span><span class="mi">20</span><span class="o">*</span><span class="nb">float</span><span class="p">(</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">*</span><span class="nb">float</span><span class="p">(</span><span class="n">items</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
    
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The Access Index (AI) for Rwanda is&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">add</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The Access Index (AI) for Rwanda is 60
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_AA</span><span class="o">=</span><span class="n">df_AA</span><span class="o">.</span><span class="n">to_frame</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;TIER&quot;</span><span class="p">)</span>

<span class="c1">#Pie plot</span>
<span class="n">f</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">df_AA</span><span class="p">[</span><span class="s1">&#39;TIER&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.0f%%</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on Index Calculation&#39;</span><span class="p">)</span>

<span class="c1">#Barplot</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="s2">&quot;1&quot;</span><span class="p">,</span><span class="s2">&quot;3&quot;</span><span class="p">,</span><span class="s2">&quot;4&quot;</span><span class="p">,</span><span class="s2">&quot;5&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;TIER&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df_AA</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TIER levels based on Index Calculation&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1.0, &#39;TIER levels based on Index Calculation&#39;)
</pre></div>
</div>
<img alt="_images/Rwanda_MTF_Electricity_181_1.png" src="_images/Rwanda_MTF_Electricity_181_1.png" />
</div>
</div>
<div class="toctree-wrapper compound">
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='right-next' id="next-link" href="content.html" title="next page">Content in Jupyter Book</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Vaibhav Ghildiyal<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>